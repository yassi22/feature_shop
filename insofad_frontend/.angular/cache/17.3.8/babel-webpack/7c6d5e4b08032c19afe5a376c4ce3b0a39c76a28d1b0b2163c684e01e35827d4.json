{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./giftcards-option.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./giftcards-option.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { AuthService } from \"../../auth/auth.service\";\nimport { Router } from \"@angular/router\";\nimport { GiftCardService } from \"../../services/giftcard.service\";\nimport { AsyncPipe, CurrencyPipe, NgForOf, NgIf } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nlet GiftcardsOptionComponent = class GiftcardsOptionComponent {\n  constructor(authService, giftCardService, router) {\n    this.authService = authService;\n    this.giftCardService = giftCardService;\n    this.router = router;\n    this.giftCardToModify = null;\n    this.giftCardToDelete = null;\n    this.amountValue = 0;\n  }\n  ngOnInit() {\n    this.giftCards$ = this.giftCardService.returnAllGiftCards();\n  }\n  onModifyGiftCard(giftCardToModify) {\n    this.giftCardToModify = giftCardToModify;\n  }\n  onDeleteGiftCard(giftCardToDelete) {\n    this.giftCardToDelete = giftCardToDelete;\n  }\n  onAddToBalance() {\n    if (!this.giftCardToModify) return;\n    this.giftCardService.addToBalance(this.giftCardToModify.code, this.amountValue).subscribe(() => {\n      this.giftCards$ = this.giftCardService.returnAllGiftCards();\n      this.giftCardToModify = null;\n      this.giftCardToDelete = null;\n      this.amountValue = 0;\n    });\n  }\n  onRemoveFromBalance() {\n    if (!this.giftCardToModify) return;\n    this.giftCardService.deductBalance(this.giftCardToModify.code, this.amountValue).subscribe(() => {\n      this.giftCards$ = this.giftCardService.returnAllGiftCards();\n      this.giftCardToModify = null;\n      this.giftCardToDelete = null;\n      this.amountValue = 0;\n    });\n  }\n  onDeleteCard() {\n    if (!this.giftCardToDelete) return;\n    this.giftCardService.deleteCard(this.giftCardToDelete.code).subscribe(() => {\n      this.giftCards$ = this.giftCardService.returnAllGiftCards();\n      this.giftCardToModify = null;\n      this.giftCardToDelete = null;\n    });\n  }\n  onCancel() {\n    this.giftCardToModify = null;\n    this.giftCardToDelete = null;\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: AuthService\n  }, {\n    type: GiftCardService\n  }, {\n    type: Router\n  }];\n};\nGiftcardsOptionComponent = __decorate([Component({\n  selector: 'app-admin',\n  standalone: true,\n  imports: [AsyncPipe, NgForOf, NgIf, FormsModule, CurrencyPipe],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], GiftcardsOptionComponent);\nexport { GiftcardsOptionComponent };","map":{"version":3,"names":["Component","AuthService","Router","GiftCardService","AsyncPipe","CurrencyPipe","NgForOf","NgIf","FormsModule","GiftcardsOptionComponent","constructor","authService","giftCardService","router","giftCardToModify","giftCardToDelete","amountValue","ngOnInit","giftCards$","returnAllGiftCards","onModifyGiftCard","onDeleteGiftCard","onAddToBalance","addToBalance","code","subscribe","onRemoveFromBalance","deductBalance","onDeleteCard","deleteCard","onCancel","_","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0"],"sources":["C:\\Users\\Ivan Kroetkov\\Desktop\\JavaProjects\\insofad_28\\insofad_frontend\\src\\app\\admin\\giftcards-option\\giftcards-option.component.ts"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\r\nimport {AuthService} from \"../../auth/auth.service\";\r\nimport {Router} from \"@angular/router\";\r\nimport {CartService} from \"../../services/cart.service\";\r\nimport {GiftCardService} from \"../../services/giftcard.service\";\r\nimport {GiftCard} from \"../../models/giftcard.model\";\r\nimport {Observable} from \"rxjs\";\r\nimport {AsyncPipe, CurrencyPipe, NgForOf, NgIf} from \"@angular/common\";\r\nimport {FormsModule} from \"@angular/forms\";\r\n\r\n@Component({\r\n  selector: 'app-admin',\r\n  standalone: true,\r\n    imports: [\r\n        AsyncPipe,\r\n        NgForOf,\r\n        NgIf,\r\n        FormsModule,\r\n        CurrencyPipe\r\n    ],\r\n  templateUrl: './giftcards-option.component.html',\r\n  styleUrl: './giftcards-option.component.scss'\r\n})\r\nexport class GiftcardsOptionComponent implements OnInit {\r\n\r\n  public giftCards$: Observable<GiftCard[]> | undefined;\r\n  public giftCardToModify: GiftCard | null = null;\r\n  public giftCardToDelete: GiftCard | null = null;\r\n  amountValue: number = 0;\r\n\r\n\r\n  constructor(private authService: AuthService, private giftCardService: GiftCardService, private router: Router) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.giftCards$ = this.giftCardService.returnAllGiftCards();\r\n\r\n\r\n  }\r\n\r\n  public onModifyGiftCard(giftCardToModify: GiftCard)\r\n  {\r\n    this.giftCardToModify = giftCardToModify;\r\n  }\r\n\r\n  public onDeleteGiftCard(giftCardToDelete: GiftCard)\r\n  {\r\n    this.giftCardToDelete = giftCardToDelete;\r\n  }\r\n\r\n  public onAddToBalance()\r\n  {\r\n    if (!this.giftCardToModify) return;\r\n\r\n    this.giftCardService.addToBalance(this.giftCardToModify.code, this.amountValue)\r\n        .subscribe(() => {\r\n          this.giftCards$ = this.giftCardService.returnAllGiftCards()\r\n          this.giftCardToModify = null;\r\n          this.giftCardToDelete = null;\r\n          this.amountValue = 0;\r\n        });\r\n  }\r\n\r\n  public onRemoveFromBalance()\r\n  {\r\n    if (!this.giftCardToModify) return;\r\n\r\n    this.giftCardService.deductBalance(this.giftCardToModify.code, this.amountValue)\r\n        .subscribe(() => {\r\n          this.giftCards$ = this.giftCardService.returnAllGiftCards();\r\n          this.giftCardToModify = null;\r\n          this.giftCardToDelete = null;\r\n          this.amountValue = 0;\r\n        });\r\n  }\r\n\r\n  public onDeleteCard()\r\n  {\r\n    if (!this.giftCardToDelete) return;\r\n\r\n    this.giftCardService.deleteCard(this.giftCardToDelete.code)\r\n        .subscribe(() => {\r\n          this.giftCards$ = this.giftCardService.returnAllGiftCards();\r\n          this.giftCardToModify = null;\r\n          this.giftCardToDelete = null;\r\n        });\r\n  }\r\n\r\n  public onCancel()\r\n  {\r\n    this.giftCardToModify = null;\r\n    this.giftCardToDelete = null;\r\n  }\r\n}\r\n"],"mappings":";;;AAAA,SAAQA,SAAS,QAAe,eAAe;AAC/C,SAAQC,WAAW,QAAO,yBAAyB;AACnD,SAAQC,MAAM,QAAO,iBAAiB;AAEtC,SAAQC,eAAe,QAAO,iCAAiC;AAG/D,SAAQC,SAAS,EAAEC,YAAY,EAAEC,OAAO,EAAEC,IAAI,QAAO,iBAAiB;AACtE,SAAQC,WAAW,QAAO,gBAAgB;AAenC,IAAMC,wBAAwB,GAA9B,MAAMA,wBAAwB;EAQnCC,YAAoBC,WAAwB,EAAUC,eAAgC,EAAUC,MAAc;IAA1F,KAAAF,WAAW,GAAXA,WAAW;IAAuB,KAAAC,eAAe,GAAfA,eAAe;IAA2B,KAAAC,MAAM,GAANA,MAAM;IAL/F,KAAAC,gBAAgB,GAAoB,IAAI;IACxC,KAAAC,gBAAgB,GAAoB,IAAI;IAC/C,KAAAC,WAAW,GAAW,CAAC;EAIvB;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,UAAU,GAAG,IAAI,CAACN,eAAe,CAACO,kBAAkB,EAAE;EAG7D;EAEOC,gBAAgBA,CAACN,gBAA0B;IAEhD,IAAI,CAACA,gBAAgB,GAAGA,gBAAgB;EAC1C;EAEOO,gBAAgBA,CAACN,gBAA0B;IAEhD,IAAI,CAACA,gBAAgB,GAAGA,gBAAgB;EAC1C;EAEOO,cAAcA,CAAA;IAEnB,IAAI,CAAC,IAAI,CAACR,gBAAgB,EAAE;IAE5B,IAAI,CAACF,eAAe,CAACW,YAAY,CAAC,IAAI,CAACT,gBAAgB,CAACU,IAAI,EAAE,IAAI,CAACR,WAAW,CAAC,CAC1ES,SAAS,CAAC,MAAK;MACd,IAAI,CAACP,UAAU,GAAG,IAAI,CAACN,eAAe,CAACO,kBAAkB,EAAE;MAC3D,IAAI,CAACL,gBAAgB,GAAG,IAAI;MAC5B,IAAI,CAACC,gBAAgB,GAAG,IAAI;MAC5B,IAAI,CAACC,WAAW,GAAG,CAAC;IACtB,CAAC,CAAC;EACR;EAEOU,mBAAmBA,CAAA;IAExB,IAAI,CAAC,IAAI,CAACZ,gBAAgB,EAAE;IAE5B,IAAI,CAACF,eAAe,CAACe,aAAa,CAAC,IAAI,CAACb,gBAAgB,CAACU,IAAI,EAAE,IAAI,CAACR,WAAW,CAAC,CAC3ES,SAAS,CAAC,MAAK;MACd,IAAI,CAACP,UAAU,GAAG,IAAI,CAACN,eAAe,CAACO,kBAAkB,EAAE;MAC3D,IAAI,CAACL,gBAAgB,GAAG,IAAI;MAC5B,IAAI,CAACC,gBAAgB,GAAG,IAAI;MAC5B,IAAI,CAACC,WAAW,GAAG,CAAC;IACtB,CAAC,CAAC;EACR;EAEOY,YAAYA,CAAA;IAEjB,IAAI,CAAC,IAAI,CAACb,gBAAgB,EAAE;IAE5B,IAAI,CAACH,eAAe,CAACiB,UAAU,CAAC,IAAI,CAACd,gBAAgB,CAACS,IAAI,CAAC,CACtDC,SAAS,CAAC,MAAK;MACd,IAAI,CAACP,UAAU,GAAG,IAAI,CAACN,eAAe,CAACO,kBAAkB,EAAE;MAC3D,IAAI,CAACL,gBAAgB,GAAG,IAAI;MAC5B,IAAI,CAACC,gBAAgB,GAAG,IAAI;IAC9B,CAAC,CAAC;EACR;EAEOe,QAAQA,CAAA;IAEb,IAAI,CAAChB,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACC,gBAAgB,GAAG,IAAI;EAC9B;EAAC,QAAAgB,CAAA,G;;;;;;;;AArEUtB,wBAAwB,GAAAuB,UAAA,EAbpChC,SAAS,CAAC;EACTiC,QAAQ,EAAE,WAAW;EACrBC,UAAU,EAAE,IAAI;EACdC,OAAO,EAAE,CACL/B,SAAS,EACTE,OAAO,EACPC,IAAI,EACJC,WAAW,EACXH,YAAY,CACf;EACH+B,QAAA,EAAAC,oBAAgD;;CAEjD,CAAC,C,EACW5B,wBAAwB,CAsEpC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}